# Латинські символи заборонені у змінних

## Зміст

- [Симптоми](#симптоми)
- [Чому це критично](#чому-це-критично)
- [Код, що НЕ працює](#код-що-не-працює)
- [Візуально однакові, але різні символи](#візуально-однакові-але-різні-символи)
- [Правильний код](#правильний-код)
- [Приклади тестування](#приклади-тестування)
- [Верифікація](#верифікація)
- [Порівняльна таблиця](#порівняльна-таблиця)
- [Як уникнути помилок](#як-уникнути-помилок)

---

## Симптоми

Коли ви намагаєтеся використати латинські символи у назвах змінних, параметрів функцій або будь-яких інших ідентифікаторах, парсер видає помилку:

```
Помилка в файлі.м
Не вдалося перекодувати файл в код мавки.
```

Ця помилка виникає **навіть якщо візуально** символ виглядає так само, як українська літера.

---

## Чому це критично

**Мавка вимагає, щоб ВСІ ідентифікатори використовували ЛИШЕ українську кирилицю.** Це включає:

- Назви змінних (навіть однолітерні)
- Параметри функцій
- Назви функцій (рекомендовано)
- Змінні циклів
- Будь-які користувацькі ідентифікатори

**Пастка:** Багато латинських літер візуально ідентичні українським кирилічним, але мають **різні Unicode кодові точки**. Парсер Мавки розпізнає різницю і відхилить код.

---

## Код, що НЕ працює

### Приклад 1: Однолітерна змінна

```мавка
дія обчислення()
  t = 20  ; ❌ Помилка! 't' — це латинська літера (U+0074)
  друк(t)
кінець
```

**Помилка:**
```
Помилка в файлі.м
Не вдалося перекодувати файл в код мавки.
```

---

### Приклад 2: Англійське слово

```мавка
дія конвертувати()
  temperature = 25  ; ❌ Помилка! Латинські літери
  друк(temperature)
кінець
```

**Помилка:**
```
Не вдалося перекодувати файл в код мавки.
```

---

### Приклад 3: Параметри функції

```мавка
дія додавання(a, b)  ; ❌ Помилка! 'a' і 'b' — латинські
  вернути a + b
кінець
```

---

### Приклад 4: Змінна циклу

```мавка
дія перебір()
  масив = [1, 2, 3, 4, 5]
  перебрати масив як i  ; ❌ Помилка! 'i' — латинська літера
    друк(i)
  кінець
кінець
```

---

### Приклад 5: Змішаний код

```мавка
дія розрахунок(x, y)  ; ❌ Помилка! 'x' і 'y' — латинські
  result = x * y       ; ❌ Помилка! 'result' — латинське слово
  вернути result
кінець
```

---

## Візуально однакові, але різні символи

**УВАГА:** Ці пари літер виглядають **абсолютно однаково** у більшості шрифтів, але мають різні Unicode коди!

| Візуально | Латинська | Код Unicode | Кирилична | Код Unicode | Працює в Мавці? |
|-----------|-----------|-------------|-----------|-------------|-----------------|
| **a**     | a         | U+0061      | а         | U+0430      | Лише кирилична  |
| **o**     | o         | U+006F      | о         | U+043E      | Лише кирилична  |
| **e**     | e         | U+0065      | е         | U+0435      | Лише кирилична  |
| **p**     | p         | U+0070      | р         | U+0440      | Лише кирилична  |
| **c**     | c         | U+0063      | с         | U+0441      | Лише кирилична  |
| **x**     | x         | U+0078      | х         | U+0445      | Лише кирилична  |
| **y**     | y         | U+0079      | у         | U+0443      | Лише кирилична  |
| **t**     | t         | U+0074      | т         | U+0442      | Лише кирилична  |
| **n**     | n         | U+006E      | н         | U+043D      | Лише кирилична  |

---

## Правильний код

### Приклад 1: Однолітерна змінна (виправлено)

```мавка
дія обчислення()
  т = 20  ; ✅ Правильно! 'т' — українська кирилична літера (U+0442)
  друк(т)
кінець
```

**Результат:**
```
20
```

---

### Приклад 2: Українське слово (виправлено)

```мавка
дія конвертувати()
  температура = 25  ; ✅ Правильно! Усі літери — українська кирилиця
  друк(температура)
кінець
```

**Результат:**
```
25
```

---

### Приклад 3: Параметри функції (виправлено)

```мавка
дія додавання(а, б)  ; ✅ Правильно! 'а' (U+0430) і 'б' (U+0431)
  вернути а + б
кінець

дія головна()
  результат = додавання(5, 3)
  друк(результат)
кінець

головна()
```

**Результат:**
```
8
```

---

### Приклад 4: Однолітерні параметри з кирилицею

```мавка
дія множення(х, у)  ; ✅ 'х' (U+0445) і 'у' (U+0443) — кирилиця
  вернути х * у
кінець
```

---

### Приклад 5: Альтернативні назви для циклів

```мавка
дія перебір()
  масив = [10, 20, 30]
  перебрати масив як елемент  ; ✅ Використовуємо повне слово
    друк(елемент)
  кінець
кінець
```

---

## Приклади тестування

### Тест 1: Порівняння латинської 't' vs кирилічної 'т'

**Неправильно (латинська):**
```мавка
дія головна()
  t = 5  ; Latin 't' (U+0074)
  друк(t)
кінець

головна()
```

**Помилка:**
```
Не вдалося перекодувати файл в код мавки.
```

**Правильно (кирилична):**
```мавка
дія головна()
  т = 5  ; Cyrillic 'т' (U+0442)
  друк(т)
кінець

головна()
```

**Результат:**
```
5
```

---

### Тест 2: Параметри функції

**Неправильно:**
```мавка
дія площа_прямокутника(a, b)
  вернути a * b
кінець
```

**Правильно:**
```мавка
дія площа_прямокутника(а, б)  ; 'а' та 'б' — кирилиця
  вернути а * б
кінець
```

---

### Тест 3: Складніший приклад із змінними

**Неправильно:**
```мавка
дія конвертувати_температуру(celsius)
  fahrenheit = celsius * 9 / 5 + 32
  вернути fahrenheit
кінець
```

**Правильно:**
```мавка
дія конвертувати_температуру(цельсій)
  фаренгейт = цельсій * 9 / 5 + 32
  вернути фаренгейт
кінець
```

---

### Тест 4: Цикл зі змінною

**Неправильно:**
```мавка
дія сума_масиву(масив)
  sum = 0
  перебрати масив як n
    sum = sum + n
  кінець
  вернути sum
кінець
```

**Правильно:**
```мавка
дія сума_масиву(масив)
  сума = 0
  перебрати масив як число
    сума = сума + число
  кінець
  вернути сума
кінець
```

---

### Тест 5: Математичні змінні

**Неправильно:**
```мавка
дія обчислити_гіпотенузу(a, b)
  c = (a * a + b * b) ^ 0.5
  вернути c
кінець
```

**Правильно (варіант 1 — кирилічні літери):**
```мавка
дія обчислити_гіпотенузу(а, б)
  ц = (а * а + б * б) ^ 0.5
  вернути ц
кінець
```

**Правильно (варіант 2 — описові назви):**
```мавка
дія обчислити_гіпотенузу(катет_а, катет_б)
  гіпотенуза = (катет_а * катет_а + катет_б * катет_б) ^ 0.5
  вернути гіпотенуза
кінець
```

---

### Тест 6: Використання українських абревіатур

**Правильно:**
```мавка
дія обчислити_швидкість(відстань, час)
  швид = відстань / час  ; ✅ Скорочення українського слова
  вернути швид
кінець
```

---

### Тест 7: Індекси у циклах

**Неправильно:**
```мавка
дія вивести_з_індексами(масив)
  i = 0
  перебрати масив як елемент
    друк(i, елемент)
    i = i + 1
  кінець
кінець
```

**Правильно:**
```мавка
дія вивести_з_індексами(масив)
  індекс = 0
  перебрати масив як елемент
    друк(індекс, елемент)
    індекс = індекс + 1
  кінець
кінець
```

---

## Верифікація

### Крок 1: Створіть тестовий файл із латинськими символами

Створіть файл `/tmp/тест_латинські.м`:

```мавка
дія головна()
  t = 5  ; Це латинська 't'
  друк(t)
кінець

головна()
```

Запустіть:
```bash
~/мавка /tmp/тест_латинські.м
```

**Очікуваний результат:**
```
Помилка в /private/tmp/тест_латинські.м
Не вдалося перекодувати файл в код мавки.
```

---

### Крок 2: Виправте на кирилицю

Змініть файл `/tmp/тест_латинські.м`:

```мавка
дія головна()
  т = 5  ; Це кирилична 'т' (U+0442)
  друк(т)
кінець

головна()
```

Запустіть:
```bash
~/мавка /tmp/тест_латинські.м
```

**Очікуваний результат:**
```
5
```

---

### Крок 3: Перевірка Unicode кодових точок

Запустіть Python скрипт для перевірки різниці:

```python
latin_t = 't'
cyrillic_t = 'т'

print(f"Latin 't': U+{ord(latin_t):04X}")
print(f"Cyrillic 'т': U+{ord(cyrillic_t):04X}")
print(f"Візуально однакові? Так")
print(f"Unicode однакові? {latin_t == cyrillic_t}")
```

**Результат:**
```
Latin 't': U+0074
Cyrillic 'т': U+0442
Візуально однакові? Так
Unicode однакові? False
```

---

### Крок 4: Тест функції з параметрами

Створіть файл `/tmp/тест_функція.м`:

```мавка
дія додавання(а, б)
  вернути а + б
кінець

дія головна()
  результат = додавання(10, 20)
  друк(результат)
кінець

головна()
```

Запустіть:
```bash
~/мавка /tmp/тест_функція.м
```

**Очікуваний результат:**
```
30
```

---

## Порівняльна таблиця

### Літери, що часто плутають

| № | Літера | Латинська назва | Латинська (U+) | Кирилична назва | Кирилична (U+) | Примітка |
|---|--------|-----------------|----------------|-----------------|----------------|----------|
| 1 | **A/a** | Latin Small Letter A | U+0061 | Cyrillic Small Letter A | U+0430 | Абсолютно ідентичні візуально |
| 2 | **B/в** | Latin Small Letter B | U+0062 | Cyrillic Small Letter Ve | U+0432 | Різна форма: b vs в |
| 3 | **C/с** | Latin Small Letter C | U+0063 | Cyrillic Small Letter Es | U+0441 | Візуально ідентичні |
| 4 | **E/е** | Latin Small Letter E | U+0065 | Cyrillic Small Letter Ie | U+0435 | Візуально ідентичні |
| 5 | **H/н** | Latin Small Letter H | U+0068 | Cyrillic Small Letter En | U+043D | Різна форма: h vs н |
| 6 | **I/і** | Latin Small Letter I | U+0069 | Cyrillic Small Letter Byelorussian-Ukrainian I | U+0456 | Візуально схожі |
| 7 | **K/к** | Latin Small Letter K | U+006B | Cyrillic Small Letter Ka | U+043A | Різна форма: k vs к |
| 8 | **M/м** | Latin Small Letter M | U+006D | Cyrillic Small Letter Em | U+043C | Візуально ідентичні |
| 9 | **O/о** | Latin Small Letter O | U+006F | Cyrillic Small Letter O | U+043E | Візуально ідентичні |
| 10 | **P/р** | Latin Small Letter P | U+0070 | Cyrillic Small Letter Er | U+0440 | Різна форма: p vs р |
| 11 | **T/т** | Latin Small Letter T | U+0074 | Cyrillic Small Letter Te | U+0442 | Різна форма: t vs т |
| 12 | **X/х** | Latin Small Letter X | U+0078 | Cyrillic Small Letter Ha | U+0445 | Візуально ідентичні |
| 13 | **Y/у** | Latin Small Letter Y | U+0079 | Cyrillic Small Letter U | U+0443 | Різна форма: y vs у |

---

## Як уникнути помилок

### 1. Налаштуйте клавіатуру на українську розкладку

Перемикайтеся між розкладками під час написання коду Мавкою:
- **macOS:** `Cmd + Space`
- **Windows:** `Alt + Shift`
- **Linux:** `Super + Space` (залежить від DE)

---

### 2. Використовуйте описові українські назви

Замість однолітерних змінних використовуйте повні слова:

**Погано:**
```мавка
дія обчислення(t, p)
  вернути t * p
кінець
```

**Добре:**
```мавка
дія обчислення(температура, тиск)
  вернути температура * тиск
кінець
```

---

### 3. Увімкніть підсвічування Unicode у редакторі

У VSCode встановіть розширення "Unicode Highlight", щоб бачити візуально схожі символи з різних алфавітів.

---

### 4. Перевіряйте кодові точки при сумнівах

Якщо код не компілюється без очевидної причини, перевірте Unicode:

```python
symbol = 'a'  # Вставте символ із вашого коду
print(f"U+{ord(symbol):04X}")
```

Якщо код починається з `U+00xx`, це латиниця.  
Якщо з `U+04xx`, це кирилиця.

---

### 5. Копіюйте зі зразків Мавки

Коли сумніваєтеся, копіюйте змінні зі зразків коду, що працюють, замість набирати вручну.

---

## Резюме

### Що НЕ працює
- ❌ Латинські літери у назвах змінних (`t`, `n`, `x`)
- ❌ Англійські слова (`temperature`, `result`, `sum`)
- ❌ Змішування латиниці та кирилиці (`temp_температура`)
- ❌ Латинські параметри функцій (`дія тест(a, b)`)
- ❌ Латинські змінні циклів (`перебрати масив як i`)

### Що працює
- ✅ Українська кирилиця для всіх ідентифікаторів (`т`, `н`, `х`)
- ✅ Українські слова (`температура`, `результат`, `сума`)
- ✅ Кирилічні параметри (`дія тест(а, б)`)
- ✅ Описові назви циклів (`перебрати масив як елемент`)
- ✅ Українські скорочення (`швид`, `темп`, `рез`)

### Золоте правило
**Усі ідентифікатори в Мавці МАЮТЬ бути українською кирилицею. Без винятків.**

Навіть якщо візуально літера виглядає так само, парсер перевіряє Unicode кодову точку. Латинська `t` (U+0074) ≠ кирилична `т` (U+0442).

---

**Повернутися до:** [Огляд критичних обмежень](./00_огляд.md)

**Наступне обмеження:** [17. Наступна особливість](./17_наступна_особливість.md)

---

*Документ створено на основі емпіричного тестування парсера Мавки версії 0.124.1*  
*Виявлено в Алгоритмі 194*  
*Останнє оновлення: 1 січня 2026*
