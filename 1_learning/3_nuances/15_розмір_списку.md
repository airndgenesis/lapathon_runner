# Розмір списку — властивість, а не метод

## Зміст

- [Симптоми](#симптоми)
- [Код, що НЕ працює](#код-що-не-працює)
- [Чому це відбувається](#чому-це-відбувається)
- [Правильне рішення: властивість .розмір](#правильне-рішення-властивість-розмір)
- [Приклади тестування](#приклади-тестування)
- [Верифікація](#верифікація)
- [Порівняння з іншими мовами](#порівняння-з-іншими-мовами)

---

## Симптоми

Коли ви намагаєтеся отримати довжину списку через виклик методу (наприклад, `.довжина()` або `.length()`), парсер видає помилку:

```
Помилка в файлі.м:X
Неможливо здійснити недійсне (властивість "довжина").
```

Або якщо ви намагаєтеся використати англійську назву `.length`, файл взагалі не виконується.

---

## Код, що НЕ працює

### Спроба 1: Виклик методу `.довжина()`

```мавка
дія підрахувати_елементи(список)
  кількість = список.довжина()
  вернути кількість
кінець
```

**Помилка:** `Неможливо здійснити недійсне (властивість "довжина")`

### Спроба 2: Використання `.length` (як у JavaScript)

```мавка
дія підрахувати_елементи(список)
  кількість = список.length
  вернути кількість
кінець
```

**Помилка:** `Неможливо виконати файл`

### Спроба 3: Виклик `.довжина` як властивості (без дужок)

```мавка
дія підрахувати_елементи(список)
  кількість = список.довжина
  вернути кількість
кінець
```

**Результат:** `недійсне` (повертає false замість числа)

---

## Чому це відбувається

У мові Мавка **розмір списку є властивістю**, а не методом. Це важлива відмінність від багатьох інших мов програмування:

- У **Python** використовується функція: `len(список)`
- У **JavaScript** це властивість: `список.length`
- У **Java** це метод: `список.size()`
- У **Мавці** це властивість з українською назвою: `список.розмір`

**Технічна деталь:** Властивість `.довжина` існує в об'єкті списку, але має значення `недійсне` (false), а не число. Тому спроба її прочитати або викликати як функцію призводить до помилки або неправильного результату.

**Єдина правильна назва:** `.розмір` (без дужок)

---

## Правильне рішення: властивість .розмір

Завжди використовуйте властивість `.розмір` для отримання кількості елементів у списку:

```мавка
дія підрахувати_елементи(список)
  кількість = список.розмір
  вернути кількість
кінець

мій_список = [10, 20, 30, 40, 50]
результат = підрахувати_елементи(мій_список)
друк(результат)
```

**Результат:** `5`

### Патерн використання

```мавка
; Замість цього:
кількість = список.довжина()      ; ❌ Помилка
кількість = список.length          ; ❌ Не працює
кількість = список.довжина         ; ❌ Повертає недійсне

; Використовуйте це:
кількість = список.розмір          ; ✅ Правильно
```

---

## Приклади тестування

### Тест 1: Порожній список

```мавка
дія тест_порожній()
  список = []
  вернути список.розмір
кінець

друк(тест_порожній())
```

**Результат:** `0`

---

### Тест 2: Один елемент

```мавка
дія тест_один_елемент()
  список = [42]
  вернути список.розмір
кінець

друк(тест_один_елемент())
```

**Результат:** `1`

---

### Тест 3: Багато елементів

```мавка
дія тест_багато_елементів()
  список = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]
  вернути список.розмір
кінець

друк(тест_багато_елементів())
```

**Результат:** `10`

---

### Тест 4: Динамічне додавання елементів

```мавка
дія тест_динамічне_додавання()
  список = [1, 2, 3]
  розмір_до = список.розмір
  друк(розмір_до)
  
  список.додати(4)
  список.додати(5)
  
  розмір_після = список.розмір
  друк(розмір_після)
кінець

тест_динамічне_додавання()
```

**Результат:**
```
3
5
```

---

### Тест 5: Використання в умовах

```мавка
дія перевірити_мінімум(список, мінімум)
  якщо список.розмір < мінімум
    вернути "замало елементів"
  інакше
    вернути "достатньо елементів"
  кінець
кінець

друк(перевірити_мінімум([1, 2], 3))
друк(перевірити_мінімум([1, 2, 3, 4], 3))
```

**Результат:**
```
замало елементів
достатньо елементів
```

---

### Тест 6: Використання в циклі

```мавка
дія показати_розміри()
  списки = [[1], [1, 2], [1, 2, 3], [1, 2, 3, 4]]
  
  перебрати списки як список
    розмір = список.розмір
    друк(розмір)
  кінець
кінець

показати_розміри()
```

**Результат:**
```
1
2
3
4
```

---

### Тест 7: Розмір у математичних операціях

```мавка
дія обчислити_середнє(список)
  якщо список.розмір == 0
    вернути 0
  кінець
  
  сума = 0
  перебрати список як елемент
    сума = сума + елемент
  кінець
  
  розмір = список.розмір
  середнє = сума / розмір
  вернути середнє
кінець

числа = [10, 20, 30, 40, 50]
друк(обчислити_середнє(числа))
```

**Результат:** `30`

---

## Верифікація

### Крок 1: Тест неправильного коду (метод)

Створіть тестовий файл `/tmp/тест_розмір_помилка.м`:

```мавка
дія тест()
  список = [1, 2, 3, 4, 5]
  кількість = список.довжина()
  вернути кількість
кінець

друк(тест())
```

Запустіть:
```bash
~/мавка /tmp/тест_розмір_помилка.м
```

**Очікуваний результат:** 
```
Помилка в /tmp/тест_розмір_помилка.м:3
Неможливо здійснити недійсне (властивість "довжина").
```

---

### Крок 2: Тест правильного коду (властивість)

Створіть файл `/tmp/тест_розмір_правильно.м`:

```мавка
дія тест()
  список = [1, 2, 3, 4, 5]
  кількість = список.розмір
  вернути кількість
кінець

друк(тест())
```

Запустіть:
```bash
~/мавка /tmp/тест_розмір_правильно.м
```

**Очікуваний результат:** `5`

---

### Крок 3: Тест всебічної перевірки

Створіть файл `/tmp/тест_розмір_всебічний.м`:

```мавка
дія тест_порожній_список()
  список = []
  вернути список.розмір
кінець

дія тест_один_елемент()
  список = [42]
  вернути список.розмір
кінець

дія тест_багато_елементів()
  список = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]
  вернути список.розмір
кінець

дія тест_динамічне_додавання()
  список = [1, 2, 3]
  розмір_до = список.розмір
  список.додати(4)
  список.додати(5)
  розмір_після = список.розмір
  друк(розмір_до)
  друк(розмір_після)
кінець

дія тест_у_циклі()
  списки = [[1], [1, 2], [1, 2, 3], [1, 2, 3, 4]]
  перебрати списки як список
    друк(список.розмір)
  кінець
кінець

друк("Порожній:")
друк(тест_порожній_список())

друк("Один елемент:")
друк(тест_один_елемент())

друк("Багато елементів:")
друк(тест_багато_елементів())

друк("Динамічне додавання:")
тест_динамічне_додавання()

друк("У циклі:")
тест_у_циклі()
```

**Очікуваний результат:**
```
Порожній:
0
Один елемент:
1
Багато елементів:
10
Динамічне додавання:
3
5
У циклі:
1
2
3
4
```

---

## Порівняння з іншими мовами

### Python
```python
список = [1, 2, 3, 4, 5]
кількість = len(список)  # Функція len()
```

### JavaScript
```javascript
const список = [1, 2, 3, 4, 5];
const кількість = список.length;  // Властивість .length
```

### Java
```java
List<Integer> список = Arrays.asList(1, 2, 3, 4, 5);
int кількість = список.size();  // Метод .size()
```

### C#
```csharp
List<int> список = new List<int> { 1, 2, 3, 4, 5 };
int кількість = список.Count;  // Властивість .Count
```

### Мавка
```мавка
список = [1, 2, 3, 4, 5]
кількість = список.розмір  ; Властивість .розмір
```

---

## Резюме

### Що НЕ працює
- ❌ `список.довжина()` — спроба викликати як метод
- ❌ `список.length` — англійська назва не існує
- ❌ `список.довжина` — українська назва неправильна (повертає `недійсне`)
- ❌ `список.size()` — Java-стиль не підтримується
- ❌ `len(список)` — Python-стиль не підтримується

### Що працює
- ✅ `список.розмір` — єдиний правильний спосіб
- ✅ Без дужок — це властивість, а не метод
- ✅ Українська назва — `розмір`, а не `довжина` або `length`
- ✅ Працює з порожніми списками (повертає 0)
- ✅ Динамічно оновлюється при додаванні елементів

### Золоте правило
**Завжди використовуйте `.розмір` (без дужок) для отримання кількості елементів у списку** — це єдиний надійний спосіб у Мавці.

### Ключові відмінності від інших мов
1. **Не метод, а властивість** — без дужок `()`
2. **Українська назва** — `розмір`, а не `length` чи `size`
3. **Не функція** — на відміну від Python's `len()`
4. **Не `.довжина`** — хоча це логічна українська назва, вона не працює

---

**Повернутися до:** [Огляд критичних обмежень](./00_огляд.md)

**Попереднє обмеження:** [14. Змінні імена — лише кирилиця](./14_змінні_лише_кирилиця.md)

---

*Документ створено на основі емпіричного тестування парсера Мавки версії 0.124.1*  
*Виявлено в: Алгоритм 191*  
*Дата створення: 1 січня 2026*
